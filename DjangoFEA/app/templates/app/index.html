{% extends "app/layout.html" %}

{% block content %}

<script type="text/javascript">
    window.onload = function ()
    {
        var modelChart = document.getElementById('model_chart');
        var chart = new Chart(modelChart,
        {
            type: 'scatter',
            data: {{ chartData|safe  }},
        })
    }
</script>

<div class="jumbotron">
    <canvas id="model_chart"></canvas>
</div>

<div class="row">
    <div class="col-md-3">
        <h2>Nodes</h2>
        <div class="post" id="nodes">
            <table>
                <tr>
                    <th>X [m]</th>
                    <th>Y [m]</th>
                </tr>
                {% for node in nodes %}
                <tr>
                    <td>{{ node.x }}</td>
                    <td>{{ node.y }}</td>
                    <td>{{ node.x_boundary_condition|yesno:"X,O" }}</td>
                    <td>{{ node.y_boundary_condition|yesno:"X,O" }}</td>
                    <td>{{ node.fi_boundary_condition|yesno:"X,O" }}</td>
                    <td class="display-flex">
                        <a class="save btn btn-default btn-sm" href="{% url 'node_delete' pk=node.pk %}">Edit</a>
                        <a class="save btn btn-default btn-sm btn-block" href="{% url 'node_delete' pk=node.pk %}">Del</a>
                    </td>
                </tr>            
                {% endfor %}
                <tr>
                    <form method="POST" class="form" id="node-form">{% csrf_token %}
                        <td>{{ nodeForm.x }}</td>
                        <td>{{ nodeForm.y }}</td>
                        <td>{{ nodeForm.x_boundary_condition }}</td>
                        <td>{{ nodeForm.y_boundary_condition }}</td>
                        <td>{{ nodeForm.fi_boundary_condition }}</td>
                        <td><button type="submit" class="save btn btn-default btn-sm btn-block" name="node"> + </button></td>
                    </form>
                </tr>
            </table>
        </div>
    </div>
    <div class="col-md-4">
        <h2>Sections</h2>
        <div class="post" id="sections">
            <table>
                <tr>
                    <th>ID</th>
                    <th>E [GPa]</th>
                    <th>A [cm<sup>2</sup>]</th>
                    <th>J [cm<sup>4</sup>]</th>
                    <th>&#947; [kN/m<sup>3</sup>]</th>
                </tr>
                {% for section in sections %}
                <tr>
                    <td>{{ section.pk }}</td>
                    <td>{{ section.E }}</td>
                    <td>{{ section.A }}</td>
                    <td>{{ section.J }}</td>
                    <td>{{ section.ro }}</td>
                    <td class="display-flex">
                        <a class="save btn btn-default btn-sm" href="{% url 'section_delete' pk=section.pk %}">Edit</a>
                        <a class="save btn btn-default btn-sm btn-block" href="{% url 'section_delete' pk=section.pk %}">Del</a>
                    </td>
                </tr>            
                {% endfor %}
                <tr>
                    <form method="POST" class="form" id="section-form">{% csrf_token %}
                        <td></td>
                        <td>{{ sectionForm.E }}</td>
                        <td>{{ sectionForm.A }}</td>
                        <td>{{ sectionForm.J }}</td>
                        <td>{{ sectionForm.ro }}</td>
                        <td><button type="submit" class="save btn btn-default btn-sm btn-block" name="section"> + </button></td>
                    </form>
                </tr>
            </table>
        </div>

        <h2>Elements</h2>
        <div class="post" id="elements">
            <table>
                <tr>
                    <th>ID</th>
                    <th>Section</th>
                    <th>Start</th>
                    <th>End</th>
                </tr>
                {% for element in elements %}
                <tr>
                    <td>{{ element.pk }}</td>
                    <td>{{ element.section }}</td>
                    <td>{{ element.node_start }}</td>
                    <td>{{ element.node_end }}</td>
                    <td>{{ element.hinge_start|yesno:"X,O" }}</td>
                    <td>{{ element.hinge_end|yesno:"X,O" }}</td>
                    <td class="display-flex">
                        <a class="save btn btn-default btn-sm" href="{% url 'element_delete' pk=element.pk %}">Edit</a>
                        <a class="save btn btn-default btn-sm btn-block" href="{% url 'element_delete' pk=element.pk %}">Del</a>
                    </td>
                </tr>            
                {% endfor %}
                <tr>
                    <form method="POST" class="form" id="element-form">{% csrf_token %}
                        <td></td>
                        <td>{{ elementForm.section }}</td>
                        <td>{{ elementForm.node_start }}</td>
                        <td>{{ elementForm.node_end }}</td>
                        <td>{{ elementForm.hinge_start }}</td>
                        <td>{{ elementForm.hinge_end }}</td>
                        <td><button type="submit" class="save btn btn-default btn-sm btn-block" name="element"> + </button></td>
                    </form>
                </tr>
            </table>
        </div>
    </div>
    <div class="col-md-5">
        <h2>Concentrated Loads</h2>
        <div class="post" id="concentrated-loads">
            <table>
                <tr>
                    <th>Element</th>
                    <th>F [kN]</th>
                    <th>x/L [-]</th>
                    <th>M [kNm]</th>
                    <th>[<sup>o</sup>]</th>
                </tr>
                {% for load in loads %}
                <tr>
                    <td>{{ load.associated_element }}</td>
                    <td>{{ load.f1 }}</td>
                    <td>{{ load.coord1 }}</td>
                    <td>{{ load.m }}</td>
                    <td>{{ load.deg }}</td>
                    <td class="display-flex">
                        <a class="save btn btn-default btn-sm" href="{% url 'load_delete' pk=load.pk %}">Edit</a>
                        <a class="save btn btn-default btn-sm btn-block" href="{% url 'load_delete' pk=load.pk %}">Del</a>
                    </td>
                </tr>            
                {% endfor %}
                <tr>
                    <form method="POST" class="form" id="load-form">{% csrf_token %}
                        <td>{{ loadForm.associated_element }}</td>
                        <td>{{ loadForm.f1 }}</td>
                        <td>{{ loadForm.coord1 }}</td>
                        <td>{{ loadForm.m }}</td>
                        <td>{{ loadForm.deg }}</td>
                        <td><button type="submit" class="save btn btn-default btn-sm btn-block" name="load"> + </button></td>
                    </form>
                </tr>
            </table>
        </div>

        <h2>Distributed Loads</h2>
        <div class="post" id="distributed-loads">
            <table>
                <tr>
                    <th>Element</th>
                    <th>F1 [kN/m]</th>
                    <th>F2 [kN/m]</th>
                    <th>x1/L [-]</th>
                    <th>x2/L [-]</th>
                    <th>[<sup>o</sup>]</th>
                </tr>

                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="display-flex">
                        <a class="save btn btn-default btn-sm">Edit</a>
                        <a class="save btn btn-default btn-sm btn-block">Del</a>
                    </td>
                </tr>          
            </table>
        </div>
    </div>
</div>

{% endblock %}